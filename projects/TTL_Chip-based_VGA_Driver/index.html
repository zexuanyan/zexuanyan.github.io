<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>TTL Chip-Based VGA Driver | Zexuan (Jason) Yan</title> <meta name="author" content="Zexuan (Jason) Yan"> <meta name="description" content="A Breadboard-based VGA Driver that supports live editing of the image displayed on the monitor."> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://zexuanyan.github.io/projects/TTL_Chip-based_VGA_Driver/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Zexuan </span>(Jason) Yan</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/work_experience/">Work Experiences</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">TTL Chip-Based VGA Driver</h1> <p class="post-description">A Breadboard-based VGA Driver that supports live editing of the image displayed on the monitor.</p> </header> <article> <p>In my freshman year, my team and I made a VGA driver out of breadboards and TTL chips for our class project. In this post, I will give you a quick rundown of what this project is about!</p> <p>Please note that this page works as a summary of the project and doesn’t include all the information about this project. If you are interested in the technical details, please refer to the <a href="../../assets/pdf/SP23_Honors_Lab_Final_Reports.pdf">report</a> for a detailed explanation. Credit for this project also goes to my teammates Phillip Chen (pxchen2@illinois.edu), Tony Liu (zikunl2@illinois.edu), and Hanwen Zhang (hanwenz7@illinois.edu). If there are any conflicts between this summary and the report, please refer to the report as the correct version.</p> <p><img class="center-fit" src="../../assets/img/TTL_VGA_Project/VGA_Driver_Cover.jpg"></p> <div class="caption"> Figure 1: VGA Driver Displaying Uninitialized Data in the SRAM </div> <h1 id="1-introduction">1. Introduction</h1> <p>I have been wondering how computers work since I was a kid. After taking ECE 120 (Introduction to Computing), many of my questions were answered regarding generally what’s in a computer. However, how a computer displays stuff remained a mystery to me. To unveil this mystery, I decided to look up a very classic way of displaying graphics: VGA. Upon some research, I found the VGA signal format and <a href="https://www.youtube.com/@BenEater" rel="external nofollow noopener" target="_blank">Ben eater</a>’s VGA driver using many ttl chips that can display static images, which eventually led to this project here.</p> <p>This circuit takes two user inputs (a keyboard and a mouse) and displays the input on the monitor. The mouse will draw lines on the screen while the keypad will generate shapes around the position of the curser. A block diagram is shown below.</p> <p><img class="center-fit" src="../../assets/img/TTL_VGA_Project/Flow_Chart.png"></p> <div class="caption"> Figure 2: Project Flow Chart </div> <h1 id="2-some-background-information">2. Some background information</h1> <h2 id="21-keypad">2.1 Keypad</h2> <p>We considered using a whole keyboard and displaying characters on the screen at the beginning. Such an approach would require a very large font ROM to store the drawing of each character, so we abandoned that idea and switched to a simpler approach.</p> <p>We used a 4x4 keypad, and each key on the keypad has a different function. For example, the “*” key will fill the whole screen with a solid color. We can also select what color to use through the A and C keys. To keep our project simple, we used 2-bit encoding for each color (R, G, and B) channel, so there are, in total, 64 different possible color outputs.</p> <p>The circuit inside of the keypad is a 4x4 scanning matrix that, when a button is pressed, connects an R channel and a C channel shown in Fig. 3, telling the microcontroller it is connected to that a key is pressed. Again, a detailed explanation can be found in the lab report.</p> <p><img class="center-fit" src="../../assets/img/TTL_VGA_Project/4x4-Keypad-Internal-Structure.png"></p> <div class="caption"> Figure 3: Keypad Schematics </div> <h2 id="22-mouse">2.2 Mouse</h2> <p>We used a standard USB mouse that supports PS/2 for this project. While moving this mouse, it would move a cursor on the monitor and while holding the left key, it would draw colored pixels through the path it moved through.</p> <p><img class="center-fit" src="../../assets/img/TTL_VGA_Project/usb.png"></p> <div class="caption"> Figure 4: USB Connector Pinout </div> <p>There are four pins on the connector as shown in Figure 4. We decided to communicate with the mouse through <a href="https://www.burtonsys.com/ps2_chapweske.htm" rel="external nofollow noopener" target="_blank">PS/2 Protocol</a> because it is much simpler than USB. In this case, the D- pin will carry its data signal while the D+ pin carries its clock signal. Like the keypad, we used a microcontroller to decode the signals from the mouse.</p> <h2 id="23-microcontroller">2.3 Microcontroller</h2> <p>The microcontroller will be responsible for taking the input from both the mouse and the keypad, processing them, and loading drawing data into the memory chip (a 512Kx 8-bit SRAM). We applied an Arduino Mega 2560 Rev3 shown in Figure 5 as the microcontroller for our project mostly due to its large number of I/O pins.</p> <p><img class="center-fit" src="../../assets/img/TTL_VGA_Project/Arduino.png"></p> <div class="caption"> Figure 5: Microcontroller Utilized, source from Arduino Official Website </div> <p>For example, when the clear button is pressed, the Arduino will take that input from the keypad, go through all the memory locations we used in the memory chip, and set all of them to zero.</p> <h2 id="24-vga-protocol">2.4 VGA Protocol</h2> <p>The idea behind VGA protocol is inspired heavily by the big old CRT monitors. In them, there is an electron gun that shoots electrons to every pixel, determining what color they are. The electron gun starts at the upper left corner of the screen, goes to the right pixel by pixel, and switches to the next line when it finishes a whole line. The original term “VGA” refers to the 640 x 480 @ 60Hz resolution on a monitor, and here, we are using this word to refer to all signals that use a VGA port.</p> <p>Note that other than the visible areas we see on the screen, many “hidden” sections should be considered when generating the VGA signal. A breakdown of those areas is shown in Figure 6. The sync pulses (Vertical Sync and Horizontal Sync) are especially important in this application.</p> <p><img class="center-fit" src="../../assets/img/TTL_VGA_Project/vga_theory.png"></p> <div class="caption"> Figure 6: VGA Signal Area </div> <p>The size of each section is determined by the signal resolution. For example, for an 800 x 600 @ 60Hz signal, the required horizontal and vertical timing information is shown in Figure 7.</p> <p><img class="center-fit" src="../../assets/img/TTL_VGA_Project/vga_timing.png"></p> <div class="caption"> Figure 7: VGA Timing Specification </div> <p>To simplify our project, we generated an 800 x 600 @ 60Hz signal but cut the width to 200, leading to the horizontal and vertical timing shown in Figures 8 and 9, respectively:</p> <p><img class="center-fit" src="../../assets/img/TTL_VGA_Project/modified_vga_horizontal_timing.png"></p> <div class="caption"> Figure 8: Modified VGA Horizontal Timing </div> <p><img class="center-fit" src="../../assets/img/TTL_VGA_Project/modified_vga_vertical_timing.png"></p> <div class="caption"> Figure 9: Modified VGA Vertical Timing [18] </div> <p>As long as the horizontal and vertical sync pulses match the timing specification shown in Figure 7, the monitor will recognize it as a valid VGA signal.</p> <h2 id="25-video-memory">2.5 Video Memory</h2> <p>The video memory, as the name suggests, stores the content to display on the monitor. Sadly, we weren’t able to find any available dual-port memory chip that would easily fit on a breadboard, so we went for single-port SRAMs as our video memory unit.</p> <p>One thing worth mentioning is that we tried to do double buffering. As demonstrated by Figure 10, the main idea behind double buffering is that the monitor will display video memory in Buffer A that is fully generated by the graphics card while the graphics card is writing to Buffer B. After the monitor finishes reading from Buffer A, it starts reading from Buffer B while the graphics card writes the new frame to Buffer A. <img class="center-fit" src="../../assets/img/TTL_VGA_Project/double_buffering.gif"></p> <div class="caption"> Figure 10: Idea Behind Double Buffering </div> <p>This approach could largely prevent problems like screen tearing and have a smoother display. However, due to time constraints, we did not fully finish this part in software although it is supported by hardware.</p> <h1 id="3-implementation">3. Implementation</h1> <h1 id="31-vga-signal-generation">3.1 VGA Signal Generation</h1> <p>A simple way to generate a VGA signal that matches the timing specification mentioned above is with counters. A binary counter (We specifically used SN74LS161A) simply counts up in binary representation (0000, 0001, 0010, and so on) when given a clock signal. We used NAND gates to detect if we should toggle the sync pulses at the correct pixel and applied two flip-flops to toggle the sync pulses.</p> <p>For example, to match the horizontal timing requirements, we would have four 8-input NAND gates to detect if the current pixel is in the Visible Area (pixel 0 - 199), Front Porch (pixel 200 - 209), Sync Pulse (pixel 210 - 241), or Back Porch (pixel 242 - 263). At pixel 210, a flip-flop will be toggled and toggled again at pixel 241 to generate the horizontal sync pulse. The counters will reset after it reaches 264 and start counting from 0 up again as it finishes a whole line. The detailed schematics can be found in Figure 7 and Figure 8 in the lab report.</p> <h2 id="32-from-input-to-video-memory">3.2 From Input to Video Memory</h2> <p>As mentioned before, the input from both the keypad and the mouse is processed by the Arduino. While it is relatively easy to write the driver for the keypad, processing the input from the mouse is rather difficult and was not the main focus of this project. Therefore, we used an open-source library written by <a href="https://github.com/getis" rel="external nofollow noopener" target="_blank">getis</a> to read correct inputs from the mouse.</p> <p>When reading from the video memory, the address pins of the SRAM are connected to the counters from the VGA signal generation unit (explained in Section 3), and the output is connected to the VGA connector. When writing into it, we used a few MUXes to make the address pins connected to the Arduino only and drive the input pins also by the Arduino. Then, we used a nested for loop in software to load all video data into the SRAM.</p> <h2 id="33-from-video-memory-to-monitor">3.3 From Video Memory to Monitor</h2> <p>VGA connectors usually have 15 pins, but there are only 5 pins that are not ground and important to us: the RGB signal, Horizontal Sync, and Vertical Sync. As mentioned in Section 2.4, as long as the sync pulses have the correct length and timing, the monitor will recognize the signal as a valid VGA signal. To that end, we can simply connect the sync pulses from the flip-flop (mentioned in Section 3.1) to the HSync and VSync signals directly.</p> <p>Displaying colored pixels is slightly more complicated. While testing, we simply connected the R, G, and B signals of the VGA connector to the first bit of the corresponding signal for the video memory (we have 2-bit storage for each color). The approach to display multiple colors is described in the lab report in detail.</p> <h1 id="4-progress">4. Progress</h1> <h2 id="41-vga-generation-circuit">4.1 VGA Generation Circuit</h2> <p>All of the work to this point was done in my first semester (Fall 2022). At the end of this semester, we were able to generate a valid VGA signal to be recognized by the monitor. By connecting the R, G, and B signals to certain output pins of the counter directly, we can easily display color strips on the monitor as shown in Figure 11.</p> <p><img class="center-fit" src="../../assets/img/TTL_VGA_Project/Display_color_strips.jpg"></p> <div class="caption"> Figure 11: Displaying Multiple Color Strips </div> <h2 id="42-video-memory-with-input-and-output">4.2 Video Memory with Input and Output</h2> <p>We did manage to interact with the memory through the Arduino and were able to read from the memory, clear the screen, and set the screen to solid colors. The cover of this page (Figure 1) shows the circuit displaying uninitialized memory content from the SRAM as the SRAM does not save its memory content after power cycles.</p> <p>However, we met some challenges trying to display certain shapes that we wanted. As shown in Figure 12, we tried to draw a blue square at coordinate (0,0) on the screen, and the square did not exactly ended up on the top-left corner of the screen. Also, some of its pixels moved to spaces outside of the square.</p> <p><img class="center-fit" src="../../assets/img/TTL_VGA_Project/Attempt_to_draw_block.png"></p> <div class="caption"> Figure 12: Displaying Color Blocks </div> <p>Similar behavior occurs when we tried to draw the input from the mouse. While trying to draw a diagonal line across the bottom-right corner of the screen, the line seems to be scattered as shown in Figure 13.</p> <p><img class="center-fit" src="../../assets/img/TTL_VGA_Project/Attempt_to_draw_line.jpg"></p> <div class="caption"> Figure 12: Displaying Color Blocks </div> <p>We suspected that the mapping of the input address into the memory chip may be different from the mapping of the output address on the monitor.</p> <h1 id="5-conclusions">5. Conclusions</h1> <h2 id="51-reflection">5.1 Reflection</h2> <p>From a hardware perspective, we did finish the display circuit. We were able to read/write data from and into the memory chip and were very close to having a working circuit. We generally followed our timeline, but the debugging phase took much longer than we expected. A lesson learned for us was that we could definitely have made the timeline more compact and left more time for debugging.</p> <p><strong>Again, for more detailed technical report, code we used, and other related information, please refer to the <a href="../../assets/pdf/SP23_Honors_Lab_Final_Reports.pdf">report</a>!</strong></p> <h2 id="52-extensions-of-this-project">5.2 Extensions of this Project</h2> <p>After debugging this circuit, we essentially have a VGA driver that can put the output of an Adruino onto a monitor. This opens up vast opportunities like programming a Tetris in the Arduino and play Tetris with a VGA monitor. If anyone is interested in continuing this project, please let me know through email (zexuany2@illinois.edu) as I am currently (Spring 2024 Semester) helping another team to achieve a similar project!</p> <h2 id="53-significance">5.3 Significance</h2> <p>This project helped us understand the basic logic behind a VGA monitor and how to generate VGA signals. It also taught us how to interact with microcontrollers and memory chips. The knowledge learned here proven to be very useful for higher-level classes like ECE 385 (Digital Hardware Laboratory) which we would interact a lot with VGA signals. It has been a fun project with a considerable amount of time input on the display circuit side. We learned a lot both in a technical sense and about setting up timelines and project management.</p> <h1 id="6-works-cited">6. Works Cited</h1> <p>1 B. eater, ”Let’s build a video card!”, Eater.net, 2022. [Online]. Available: https://eater.net/vga.[Accessed:25- Sep- 2022].</p> <p>2 B. Eater, The world’s worst video card?. 2019.</p> <p>3 B. Eater, the World’s worst video card? The exciting conclusion. 2019.</p> <p>4 jdh, I built my own graphics card. 2021.</p> <p>5 W. Green, Project F. projectf.io, 2022 [Online]. Available: https://projectf.io/posts/video-timings-vga-720p-1080p/</p> <p>6 ABRACON, LLC ”HALF SIZE DIP LOW VOLTAGE 5.0V CRYSTAL CLOCK OSCILLATOR,” ACH-10.000MHZ-EK datasheet [revised Nov. 2016]</p> <p>7 Texas Instruments, ”Synchronous 4-Bit Counters,” SN74LS161AN datasheet, Oct. 1976 [revised Mar.1988]</p> <p>8 Texas Instruments, ”SNx400, SNx4LS00, and SNx4S00 Quadruple 2-Input Positive-NAND Gates,” SN74LS00 datasheet, Dec. 1983 [revised May 2017]</p> <p>9 Texas Instruments, ”8-Input Positive-NAND Gates,” SN74LS30, Dec. 1983 [revised Mar. 1988]</p> <p>10 Texas Instruments, ”Hex Inverters,” SN74LS04, Dec. 1983 [revised Jan. 2004]</p> <p>11 Desai, S. (2022, June 6). VGA pinout. Hardware connector pinouts and cables circuits wirings. Retrieved December 6, 2022, from ”https://pinoutguide.com/Video/VGA15-pinout.shtml ”</p> <p>12 SECONS Ltd. (2008). SVGA signal 800 x 600 @ 60 hz timing. Retrieved December 6, 2022, from http://tinyvga.com/vga-timing/800x600@60Hz</p> <p>13 Beneater (2018) Beneater/EEPROM-programmer: Arduino EEPROM programmer, GitHub. MIT. Available at: https://github.com/beneater/eeprom-programmer (Accessed: December 6, 2022).</p> <p>14 Components101, “4x4 keypad module,” Components101, 2021. [Online]. Available: https://components101.com/misc/4x4-keypad-module-pinout-configuration-features-datasheet. [Accessed: 03-Feb-2023].</p> <p>15 Components101, ”USB-A-Jack-Pinout” Components101, 2021. [Online]. Available: https://components101.com/sites/default/files/component-pin/USB-A-Jack-Pinout.png [Accessed: 04-Feb-2023].</p> <p>16 Getis, “Getis/arduino-PS2-mouse-handler: PS2 mouse handler library for arduinos,” GitHub, 25-Oct-2021. [Online]. Available: https://github.com/getis/Arduino-PS2-Mouse-Handler. [Accessed: 01-Apr-2023].</p> <p>17 PixArt Imaging Inc., “PAW3515DB DS Simple 1.0 - epsglobal,” PAW3515DB SERIES USB OPTICAL MOUSE SINGLE CHIP, Apr-2013. [Online].Available: https://www.epsglobal.com/Media-Library/EPSGlobal/Products/files/pixart/PAW3515DB.pdf ?ext=.pdf. [Accessed: 04-Feb-2023].</p> <p>18 Oracle, “Double Buffering and Page Flipping,” Java Documentation, “https://docs.oracle.com/javase/tutorial/extra/fullscreen/doublebuf.html”. [Accessed: 05-Feb-2024].</p> <style>.center-fit{display:block;max-width:100%;max-height:100%;margin-left:auto;margin-right:auto},.center-fit-small{display:block;max-width:100%;max-height:100%;margin-left:auto;margin-right:auto}</style> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2025 Zexuan (Jason) Yan. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>